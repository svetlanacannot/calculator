var S=Object.defineProperty;var f=(u,e,t)=>e in u?S(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var i=(u,e,t)=>(f(u,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();class v{constructor(){i(this,"_previousComputeSequenceArray",[]);i(this,"_computeSequenceArray",[]);i(this,"_computed",null)}get previousComputeSequenceArray(){return this._previousComputeSequenceArray}set previousComputeSequenceArray(e){this._previousComputeSequenceArray=e}get computeSequenceArray(){return this._computeSequenceArray}set computeSequenceArray(e){this._computeSequenceArray=e}get computed(){return this._computed}set computed(e){this._computed=e}appendNumber(e){const t=this.computeSequenceArray[this.computeSequenceArray.length-1];(t==null?void 0:t.type)==="number"?t.value+=e:this.computeSequenceArray.length===1&&t.value==="-"?(t.type="number",t.value+=e):this.computeSequenceArray.push({type:"number",value:e})}appendOperation(e){const t=this.computeSequenceArray[this.computeSequenceArray.length-1];this.computed=null,(t==null?void 0:t.type)==="operation"?t.value=e:this.computeSequenceArray.push({type:"operation",value:e})}appendComma(){var t;const e=this.computeSequenceArray[this.computeSequenceArray.length-1];(e==null?void 0:e.type)==="number"&&(e==null?void 0:e.value.charAt(((t=e==null?void 0:e.value)==null?void 0:t.length)-1))!=="."&&(e.value+=".")}compute(){let e=null,t=null,o=null,r=null;this.computeSequenceArray.forEach(({type:n,value:c})=>{n==="number"?e===null?e=parseFloat(c):t===null&&(t=parseFloat(c)):o===null&&(o=c)}),r===null&&e!==null&&t!==null&&o!==null&&(r=parseFloat(this.computeSequenceByPriority(this.computeSequenceArray).value),t=null,o=null),this.computed=r,r!==null&&(this.previousComputeSequenceArray=this.computeSequenceArray,this.computed!=null&&this.previousComputeSequenceArray.push({type:"operation",value:"="},{type:"number",value:this.computed.toString()}),this.computeSequenceArray=new Array({type:"number",value:r.toString()}))}clear(){this.computeSequenceArray=[],this.computed=null}computeSequenceByPriority(e){return["*","\xF7","-","+"].forEach(o=>{for(;e.find(r=>r.value===o)!=null;)e.forEach((r,n)=>{if(r.value===o){const c=r,d=e[n-1],h=e[n+1],a=this.copmuteTwoOperands(c.value,parseFloat(d.value),parseFloat(h.value));a!=null&&e.splice(n-1,3,{type:"number",value:a.toString()})}})}),e[0]}copmuteTwoOperands(e,t,o){switch(e){case"+":return parseFloat((t+o).toFixed(10));case"-":return parseFloat((t-o).toFixed(10));case"*":return parseFloat((t*o).toFixed(10));case"\xF7":if(o!==0)return parseFloat((t/o).toFixed(10))}return null}}class q{constructor(e,t){i(this,"currentOperationTextElement");i(this,"previousOperationTextElement");this.previousOperationTextElement=e,this.currentOperationTextElement=t}updateScreen(e,t,o){this.previousOperationTextElement.innerHTML=e.map(r=>r.value).join(""),this.currentOperationTextElement.innerHTML=t.map(r=>r.value).join(""),o!=null&&(this.previousOperationTextElement.innerHTML=e.map(r=>r.value).join(""),this.currentOperationTextElement.innerHTML="="+o.toString())}}const m=document.querySelector("#previousText"),y=document.querySelector("#currentText"),l=document.querySelector("#allClearButton"),A=document.querySelectorAll(".number"),g=document.querySelectorAll(".operation"),p=document.querySelector("#equalsButton"),s=document.querySelector("#commaButton");if(m!=null&&y!=null){const u=new v,e=new q(m,y);l==null||l.addEventListener("click",()=>{u.clear(),e.updateScreen(u.previousComputeSequenceArray,u.computeSequenceArray,u.computed)}),A.forEach(t=>t.addEventListener("click",()=>{t.textContent!==null&&u.appendNumber(t.textContent),e.updateScreen(u.previousComputeSequenceArray,u.computeSequenceArray,u.computed)})),g.forEach(t=>t.addEventListener("click",()=>{t.textContent!==null&&u.appendOperation(t.textContent),e.updateScreen(u.previousComputeSequenceArray,u.computeSequenceArray,u.computed)})),p==null||p.addEventListener("click",()=>{u.compute(),e.updateScreen(u.previousComputeSequenceArray,u.computeSequenceArray,u.computed)}),s==null||s.addEventListener("click",()=>{u.appendComma(),e.updateScreen(u.previousComputeSequenceArray,u.computeSequenceArray,u.computed)})}
