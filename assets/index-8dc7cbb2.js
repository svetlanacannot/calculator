var A=Object.defineProperty;var v=(r,t,e)=>t in r?A(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var p=(r,t,e)=>(v(r,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();class f{constructor(){p(this,"_previousComputeSequenceArray",[]);p(this,"_computeSequenceArray",[]);p(this,"_computed",null)}get previousComputeSequenceArray(){return this._previousComputeSequenceArray}set previousComputeSequenceArray(t){this._previousComputeSequenceArray=t}get computeSequenceArray(){return this._computeSequenceArray}set computeSequenceArray(t){this._computeSequenceArray=t}get computed(){return this._computed}set computed(t){this._computed=t}appendNumber(t){const e=this.computeSequenceArray[this.computeSequenceArray.length-1];(e==null||(e==null?void 0:e.value.length)<19)&&((e==null?void 0:e.type)==="number"?e.value+=t:this.computeSequenceArray.length===1&&e.value==="-"?(e.type="number",e.value+=t):this.computeSequenceArray.push({type:"number",value:t}))}appendOperation(t){this.computed!==null&&this.previousComputeSequenceArray.push({type:"operation",value:"="},{type:"number",value:this.computed.toString()});const e=this.computeSequenceArray[this.computeSequenceArray.length-1];this.computed=null,(e==null?void 0:e.type)==="operation"?e.value=t:this.computeSequenceArray.push({type:"operation",value:t})}appendComma(){var e;const t=this.computeSequenceArray[this.computeSequenceArray.length-1];(t==null?void 0:t.type)==="number"&&(t==null?void 0:t.value.charAt(((e=t==null?void 0:t.value)==null?void 0:e.length)-1))!=="."&&(t.value+=".")}changeLastOperandToPercent(){const t=this.computeSequenceArray[this.computeSequenceArray.length-1],e=this.computeSequenceArray[this.computeSequenceArray.length-3];(t==null?void 0:t.type)==="number"&&e!=null&&(t.value=(parseFloat(e.value)*parseFloat(t.value)/100).toString())}compute(){this.computed===null?this.computeSequenceArray.length!==0&&(this.previousComputeSequenceArray=this.computeSequenceArray,this.computed=parseFloat(this.computeSequenceByPriority(this.computeSequenceArray).value),this.computeSequenceArray=new Array({type:"number",value:this.computed.toString()})):(this.previousComputeSequenceArray.push({type:"operation",value:"="},{type:"number",value:this.computed.toString()}),this.computeSequenceArray=[],this.computed=null)}clear(){this.computeSequenceArray.length===0?this.previousComputeSequenceArray=[]:this.computed!=null&&this.previousComputeSequenceArray.push({type:"operation",value:"="},{type:"number",value:this.computed.toString()}),this.computeSequenceArray=[],this.computed=null}deleteLast(){this.computeSequenceArray.length!==0&&(this.computeSequenceArray[this.computeSequenceArray.length-1].value=this.computeSequenceArray[this.computeSequenceArray.length-1].value.slice(0,-1),this.computeSequenceArray[this.computeSequenceArray.length-1].value===""&&this.computeSequenceArray.pop())}computeSequenceByPriority(t){const e=["*","\xF7","-","+"],u=[...t];return e.forEach(o=>{for(;u.find(n=>n.value===o)!=null;)u.forEach((n,c)=>{if(n.value===o){const S=n,h=u[c-1],q=u[c+1],l=this.copmuteTwoOperands(S.value,parseFloat(h.value),parseFloat(q.value));l!=null&&u.splice(c-1,3,{type:"number",value:l.toString()})}})}),u[0]}copmuteTwoOperands(t,e,u){switch(t){case"+":return parseFloat((e+u).toFixed(10));case"-":return parseFloat((e-u).toFixed(10));case"*":return parseFloat((e*u).toFixed(10));case"\xF7":if(u!==0)return parseFloat((e/u).toFixed(10))}return null}}class g{constructor(t,e,u){p(this,"previousOperationTextElement");p(this,"currentOperationTextElement");p(this,"screenElement");this.screenElement=t,this.previousOperationTextElement=e,this.currentOperationTextElement=u}updateScreen(t,e,u){this.previousOperationTextElement.innerHTML=t.map(o=>o.value).join(""),this.currentOperationTextElement.innerHTML=e.map(o=>o.value).join(""),u!=null&&(this.previousOperationTextElement.innerHTML=t.map(o=>o.value).join(""),this.currentOperationTextElement.innerHTML="="+u.toString()),this.currentOperationTextElement.scrollWidth>this.screenElement.scrollWidth&&(this.currentOperationTextElement.style.fontSize="2rem")}expandKeyboard(){document.querySelectorAll(".button--expanded").forEach(e=>{e.style.display==="block"?e.style.display="none":e.style.display="block"})}}const m=document.querySelector("#screen"),y=document.querySelector("#previousText"),d=document.querySelector("#currentText"),i=document.querySelector("#expandKeyboardButton"),E=document.querySelectorAll(".allClearButton"),C=document.querySelectorAll(".number"),x=document.querySelectorAll(".operation"),a=document.querySelector("#equalsButton"),s=document.querySelector("#commaButton"),L=document.querySelectorAll(".deleteButton"),T=document.querySelectorAll(".percentButton");if(m!=null&&y!=null&&d!=null){const r=new f,t=new g(m,y,d);i==null||i.addEventListener("click",()=>{t.expandKeyboard()}),E.forEach(e=>{e==null||e.addEventListener("click",()=>{r.clear(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)})}),L.forEach(e=>{e==null||e.addEventListener("click",()=>{r.deleteLast(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)})}),C.forEach(e=>e.addEventListener("click",()=>{e.textContent!==null&&r.appendNumber(e.textContent),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)})),x.forEach(e=>e.addEventListener("click",()=>{e.textContent!==null&&r.appendOperation(e.textContent),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)})),a==null||a.addEventListener("click",()=>{r.compute(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)}),s==null||s.addEventListener("click",()=>{r.appendComma(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)}),T.forEach(e=>{e==null||e.addEventListener("click",()=>{r.changeLastOperandToPercent(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)})}),document.addEventListener("keypress",e=>{const u={numbers:["0","1","2","3","4","5","6","7","8","9"],operations:["-","+","*","/"],equals:["=","Enter"],comma:",",percent:"%",delete:"Delete"};u.numbers.includes(e.key)?(r.appendNumber(e.key),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)):u.operations.includes(e.key)?(r.appendOperation(e.key),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)):u.equals.includes(e.key)?(r.compute(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)):e.key===u.comma?(r.appendComma(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)):e.key===u.delete?(r.deleteLast(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed)):e.key===u.percent&&(r.changeLastOperandToPercent(),t.updateScreen(r.previousComputeSequenceArray,r.computeSequenceArray,r.computed))})}
